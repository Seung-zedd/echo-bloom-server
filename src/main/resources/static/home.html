<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>홈 페이지</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
<h1>환영합니다!</h1>
<p>카카오 소셜 로그인을 통해 성공적으로 로그인되었습니다.</p>
<p>로그인 상태: 인증됨 (JWT 토큰이 설정되었습니다.)</p>
<button onclick="logout()">로그아웃</button>

<script>
    function logout() {
        // 로그아웃: 쿠키 삭제 (클라이언트 측, HttpOnly는 서버에서 처리 추천)
        document.cookie = 'accessToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
        document.cookie = 'refreshToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
        window.location.href = '/login';  // 로그인 페이지로 리다이렉트 (프로젝트에 맞게 변경)
    }

    // 페이지 로드 시 인증 상태 확인 (옵션: 백엔드 API 호출)
    fetch('/api/check-auth', {
        method: 'GET',
        credentials: 'include'  // 쿠키 자동 포함
    }).then(response => {
        if (!response.ok) {
            alert('인증 오류! 재로그인해주세요.');
            window.location.href = '/login';
        }
    }).catch(error => console.error('인증 확인 오류:', error));
</script>
</body>
</html>
